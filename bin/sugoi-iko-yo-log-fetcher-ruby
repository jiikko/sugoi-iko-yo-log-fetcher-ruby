#!/usr/bin/env ruby

require "bundler/setup"
require "sugoi_iko_yo_log_fetcher_ruby"

cli = SugoiIkoYoLogFetcherRuby.build_cli(ARGV)
if cli.valid?
  begin
    cli.run.download!
  rescue => e
    puts e.message
    puts e.backtrace.join("\n")
    exit(1)
  end
else
  puts cli.messages
  exit(1)
end
